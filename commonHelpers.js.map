{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst params = new URLSearchParams({\n  key: '44439688-e504d8637fbba129a9d0d5115',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nfunction getImages(url) {\n  fetch(url).then(res => {\n    if (!res.ok) throw new Error(res.status);\n    return res.json();\n  });\n}\n\nconst refs = {\n  formEl: document.forms[0],\n  btnEl: document.querySelector('.btn'),\n  ulElem: document.querySelector('.gallery'),\n};\n\nrefs.formEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const usertext = e.currentTarget.elements.query.value.trim();\n  if (!usertext) {\n    iziToast.warning({\n      position: `topRight`,\n      title: `Attention`,\n      message: 'Search field must not be empty. Please try again!',\n    });\n    return;\n  }\n  params.set('q', usertext);\n  const userUrl = 'https://pixabay.com/api/?' + params;\n\n  getImages(userUrl)\n    .then(images => {\n      console.log(images);\n      if (!images.hits.length) return Promise.reject('error');\n    })\n\n    .catch(error => {\n      iziToast.error({\n        position: `topRight`,\n        title: `error`,\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n});\n\n// function imageTamplate(image) {\n//   return `<li class=\"gallery-item\">\n//             <a class=\"gallery-link\" href=${image.original}>\n//                 <img class=\"gallery-image\"\n//                 src=${image.preview}\n//                 alt=${image.description}\n//                 title=${image.description} />\n//             </a>\n//         </li>`;\n// }\n// function imagesTamplate(arr) {\n//   return arr.map(imageTamplate).join('');\n// }\n// const markup = imagesTamplate(images);\n// ulElem.innerHTML = markup;\n\n// const options = {\n//   captionDelay: 250,\n// };\n// const lightbox = new SimpleLightbox('.gallery a', options);\n"],"names":["params","getImages","url","res","refs","e","usertext","iziToast","userUrl","images","error"],"mappings":"svBAMA,MAAMA,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAED,SAASC,EAAUC,EAAK,CACtB,MAAMA,CAAG,EAAE,KAAKC,GAAO,CACrB,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAMA,EAAI,MAAM,EACvC,OAAOA,EAAI,MACf,CAAG,CACH,CAEA,MAAMC,EAAO,CACX,OAAQ,SAAS,MAAM,CAAC,EACxB,MAAO,SAAS,cAAc,MAAM,EACpC,OAAQ,SAAS,cAAc,UAAU,CAC3C,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,GAAK,CAC1CA,EAAE,eAAc,EAChB,MAAMC,EAAWD,EAAE,cAAc,SAAS,MAAM,MAAM,OACtD,GAAI,CAACC,EAAU,CACbC,EAAS,QAAQ,CACf,SAAU,WACV,MAAO,YACP,QAAS,mDACf,CAAK,EACD,MACD,CACDP,EAAO,IAAI,IAAKM,CAAQ,EACxB,MAAME,EAAU,4BAA8BR,EAE9CC,EAAUO,CAAO,EACd,KAAKC,GAAU,CAEd,GADA,QAAQ,IAAIA,CAAM,EACd,CAACA,EAAO,KAAK,OAAQ,OAAO,QAAQ,OAAO,OAAO,CAC5D,CAAK,EAEA,MAAMC,GAAS,CACdH,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,0EACV,CAAO,CACP,CAAK,CACL,CAAC"}